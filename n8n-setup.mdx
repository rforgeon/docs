# Setting Up Your N8N Instance

AgentRails requires an N8N instance to manage your AI agent workflows. You have three options for setting up N8N:

## Option A: Using N8N Cloud

The simplest option is using N8N's managed cloud service:

1. Visit [N8N Cloud](https://n8n.partnerlinks.io/agent-rails-docs)
2. Sign up for an account
3. Create a new workspace
4. Copy your workspace URL

## Option B: Quick Start with Docker

Perfect for testing or small deployments:

1. **Pull and Run N8N**
   ```bash
   docker run -it --rm \
     --name n8n \
     -p 5678:5678 \
     -v ~/.n8n:/home/node/.n8n \
     docker.n8n.io/n8nio/n8n
   ```
   Your N8N instance will be available at `http://localhost:5678`

## Option C: Self-Hosting N8N

For production environments, we recommend a proper self-hosted setup:

1. **System Requirements**
   - Node.js 16 or newer
   - Database (PostgreSQL recommended)
   - Redis (optional, for caching)

2. **Installation**
   ```bash
   npm install n8n -g
   ```

3. **Configure Environment**
   Create a `.env` file:
   ```env
   N8N_PROTOCOL=https
   N8N_HOST=n8n.your-domain.com
   N8N_PORT=5678
   DB_TYPE=postgresdb
   DB_POSTGRESDB_HOST=localhost
   DB_POSTGRESDB_PORT=5432
   ```

4. **Production Setup**
   - Set up a reverse proxy (nginx recommended)
   - Configure SSL certificates
   - Set up process manager (PM2 recommended)
   - For detailed instructions, see [N8N's deployment docs](https://docs.n8n.io/hosting/)

## Getting Your N8N API Key

To connect AgentRails with your n8n instance, you'll need an API key:

1. Log into your n8n instance
2. Click on your user icon in the bottom left corner
3. Select "Settings" from the dropdown menu
4. Navigate to the "n8n API" section in the left sidebar
5. Click "Create API Key"
6. Copy the generated API key immediately - you won't be able to see it again!

Note: For n8n Cloud users, you can find this under "Account Settings" â†’ "API Keys"

## Connecting to AgentRails

1. In your AgentRails dashboard, go to Settings
2. Enter your N8N instance URL:
   - For self-hosted: Your domain or IP (e.g., `https://n8n.yourdomain.com`)
   - For N8N Cloud: Your workspace URL
3. Paste your N8N API key
4. Save your settings

## Verifying the Connection

1. Go to the Agents page in AgentRails
2. Create a test agent
3. If the connection is successful, you'll see the agent appear in your N8N workflows 